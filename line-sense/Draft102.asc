Version 4
SHEET 1 5720 1740
WIRE 1840 -144 1776 -144
WIRE 2176 -144 1840 -144
WIRE 2256 -144 2176 -144
WIRE 1088 -80 944 -80
WIRE 1344 -80 1168 -80
WIRE 1616 -80 1424 -80
WIRE 1776 -80 1616 -80
WIRE 1872 -80 1840 -80
WIRE 944 -32 944 -80
WIRE 1344 -32 1344 -80
WIRE 1840 -16 1776 -16
WIRE 2176 -16 2176 -80
WIRE 2256 -16 2256 -64
WIRE 2256 -16 2176 -16
WIRE 1504 0 1424 0
WIRE 2256 64 2176 64
WIRE 1616 80 1424 80
WIRE 1872 80 1872 -80
WIRE 1872 80 1616 80
WIRE 2176 80 2176 64
WIRE 944 112 944 48
WIRE 1344 112 1344 48
WIRE 1344 112 944 112
WIRE 1840 144 1840 -16
WIRE 2176 144 1840 144
WIRE 2256 144 2176 144
WIRE 1424 352 1424 80
WIRE 1552 352 1504 352
WIRE 1664 352 1552 352
WIRE 1712 352 1664 352
WIRE 1824 352 1712 352
WIRE 1984 368 1888 368
WIRE 2064 368 1984 368
WIRE 1824 384 1792 384
WIRE 1792 448 1792 384
WIRE 1984 448 1792 448
FLAG 784 -352 0
FLAG 784 -432 VCC
FLAG 608 -336 0
FLAG 608 -416 P15V
FLAG 2256 -16 0
FLAG 1504 0 0
FLAG 2256 64 0
FLAG 1856 400 0
FLAG 1856 336 VCC
FLAG 1664 416 0
FLAG 1712 416 0
FLAG 1984 528 0
FLAG 1552 416 0
FLAG 1616 -144 0
FLAG 1616 144 0
SYMBOL voltage 784 -448 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 48 40 Left 2
SYMATTR Value 5
SYMATTR InstName V2
SYMBOL ind2 1408 16 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L3
SYMATTR Value 5H
SYMATTR Type ind
SYMBOL voltage 608 -432 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 48 40 Left 2
SYMATTR Value 15
SYMATTR InstName V4
SYMBOL ind2 1360 64 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L2
SYMATTR Value 5H
SYMATTR Type ind
SYMBOL diode 1792 -80 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMBOL diode 1856 -80 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D6
SYMBOL diode 1792 -16 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D7
SYMBOL diode 1856 -16 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D8
SYMBOL cap 2160 -144 R0
SYMATTR InstName C2
SYMATTR Value 1000µ
SYMBOL res 2240 -160 R0
SYMATTR InstName R5
SYMATTR Value 100R
SYMBOL ind2 1408 96 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L4
SYMATTR Value 5H
SYMATTR Type ind
SYMBOL cap 2160 80 R0
SYMATTR InstName C1
SYMATTR Value 1000µ
SYMBOL res 2240 48 R0
SYMATTR InstName R3
SYMATTR Value 100R
SYMBOL voltage 944 -48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 48 40 Left 2
SYMATTR Value SINE(0 15 50)
SYMATTR InstName V1
SYMBOL res 1184 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1R
SYMBOL Comparators\\LT1018 1856 368 R0
SYMATTR InstName U1
SYMBOL res 1520 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 500k
SYMBOL diode 1696 352 R0
SYMATTR InstName D1
SYMBOL diode 1680 416 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL res 1968 352 R0
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL res 1968 432 R0
SYMATTR InstName R6
SYMATTR Value 2k
SYMBOL cap 1536 352 R0
SYMATTR InstName C3
SYMATTR Value 10n
SYMBOL cap 1600 -144 R0
SYMATTR InstName C4
SYMATTR Value 100n
SYMBOL cap 1600 80 R0
SYMATTR InstName C5
SYMATTR Value 100n
TEXT 1024 -456 Left 2 !K L2 L3 L4 0.99.5
TEXT 704 -176 Left 2 !.tran 0.2s
TEXT 1192 -256 Left 2 ;Ok, caps C4,C5 do eliminate small parasitic oscillation.\non the rectifier switching.\nBut note there needs to be a little load to get the main square waveform
