Version 4
SHEET 1 5720 1740
WIRE 1040 -144 816 -144
WIRE 1040 -128 1040 -144
WIRE -48 -64 -96 -64
WIRE 96 -64 96 -144
WIRE 96 -64 32 -64
WIRE 304 -64 144 -64
WIRE 416 -64 368 -64
WIRE 512 -64 416 -64
WIRE 656 -64 608 -64
WIRE 800 -64 720 -64
WIRE 816 -64 816 -144
WIRE 816 -64 800 -64
WIRE 848 -64 816 -64
WIRE 992 -64 912 -64
WIRE 1136 -64 992 -64
WIRE 1168 -64 1136 -64
WIRE 608 0 608 -64
WIRE -96 16 -96 -64
WIRE 96 16 96 -64
WIRE 416 16 416 -64
WIRE 800 48 800 0
WIRE -48 96 -96 96
WIRE 144 96 144 32
WIRE 144 96 -48 96
WIRE 416 96 144 96
WIRE -48 128 -48 96
WIRE 608 128 608 80
FLAG -352 144 0
FLAG -352 64 VCC
FLAG 608 128 0
FLAG 1136 16 0
FLAG 144 -160 VCC
FLAG -48 128 0
FLAG 800 48 0
FLAG 992 0 0
SYMBOL voltage -352 48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 48 40 Left 2
SYMATTR Value 5
SYMATTR InstName V2
SYMBOL ind2 400 0 R0
SYMATTR InstName L1
SYMATTR Value 1000µ
SYMATTR Type ind
SYMBOL ind2 592 -16 R0
SYMATTR InstName L2
SYMATTR Value 1000µ
SYMATTR Type ind
SYMBOL voltage -96 0 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -143 229 Left 2
SYMATTR Value PULSE(0 5 1us 10ns 10ns 25us 50us 30)
SYMATTR InstName V1
SYMBOL res 48 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 0.1
SYMBOL res 1152 32 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL cap 368 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL pmos 96 -64 M180
SYMATTR InstName M3
SYMATTR Value DMP31D7L
SYMATTR Prefix X
SYMBOL nmos 96 -64 R0
SYMATTR InstName M4
SYMATTR Value DMN63D8L
SYMATTR Prefix X
SYMBOL cap 720 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL diode 816 0 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL diode 848 -48 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMBOL cap 1008 0 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C3
SYMATTR Value 0.1µ
TEXT -328 -224 Left 2 !.tran 2.5ms
TEXT 608 -456 Left 2 !K L1 L2 0.99.5
TEXT -328 -144 Left 2 !.include my.lib
TEXT 296 -336 Left 2 ;Ok. this works. the trick is that need the cmos, so body-diodes will conduct\nreset voltages. unlike a pure voltage pulse source.\n- note also the tank means probably want fixed frequency.
