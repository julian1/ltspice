Version 4
SHEET 1 5720 1740
WIRE 1376 -176 1248 -176
WIRE 1584 -176 1456 -176
WIRE 2208 -176 2144 -176
WIRE 2544 -176 2208 -176
WIRE 2624 -176 2544 -176
WIRE 2144 -112 1968 -112
WIRE 2240 -112 2208 -112
WIRE 1584 -48 1584 -176
WIRE 2208 -48 2144 -48
WIRE 2544 -48 2544 -112
WIRE 2624 -48 2624 -96
WIRE 2624 -48 2544 -48
WIRE 2048 -32 1968 -32
WIRE 912 32 832 32
WIRE 2624 32 2544 32
WIRE 832 48 832 32
WIRE 912 48 912 32
WIRE 2240 48 2240 -112
WIRE 2240 48 1968 48
WIRE 2544 48 2544 32
WIRE 1408 112 1360 112
WIRE 2208 112 2208 -48
WIRE 2544 112 2208 112
WIRE 2624 112 2544 112
WIRE 1504 176 1504 -48
WIRE 1552 176 1504 176
WIRE 1664 176 1664 -48
WIRE 1664 176 1616 176
WIRE 1504 208 1504 176
WIRE 1664 208 1664 176
WIRE 1408 256 1408 112
WIRE 1408 256 1376 256
WIRE 1440 256 1408 256
WIRE 1792 256 1728 256
WIRE 1584 304 1504 304
WIRE 1664 304 1584 304
WIRE 1584 384 1584 304
WIRE 1136 416 1008 416
WIRE 1312 432 1248 432
WIRE 1136 480 1136 448
WIRE 1280 480 1136 480
WIRE 1248 496 1248 432
WIRE 1248 496 1136 496
WIRE 1136 528 1136 496
WIRE 1280 544 1280 480
WIRE 1280 544 1248 544
WIRE 1312 544 1280 544
WIRE 928 560 928 416
WIRE 1136 560 928 560
FLAG 2624 -48 0
FLAG 2048 -32 0
FLAG 2624 32 0
FLAG 912 48 0
FLAG 832 -48 VCC
FLAG 832 128 VEE
FLAG 1248 -176 VCC
FLAG 1584 384 0
FLAG 1312 432 SW1
FLAG 1312 544 SW2
FLAG 1296 256 SW1
FLAG 1872 256 SW2
FLAG 1280 112 VCC
SYMBOL ind2 1952 -16 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L3
SYMATTR Value 1m
SYMATTR Type ind
SYMBOL ind2 1680 -64 R90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L2
SYMATTR Value 1m
SYMATTR Type ind
SYMBOL diode 2160 -112 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMBOL diode 2224 -112 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D6
SYMBOL diode 2160 -48 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D7
SYMBOL diode 2224 -48 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D8
SYMBOL cap 2528 -176 R0
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL res 2608 -192 R0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL ind2 1952 64 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L4
SYMATTR Value 1m
SYMATTR Type ind
SYMBOL cap 2528 48 R0
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL res 2608 16 R0
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL voltage 832 -64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 40 42 Left 2
SYMATTR Value 15
SYMATTR InstName V1
SYMBOL voltage 832 32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 36 39 Left 2
SYMATTR InstName V3
SYMATTR Value 15
SYMBOL ind2 1024 400 R90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 1m
SYMATTR Type ind
SYMBOL ind2 1600 -64 R90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L7
SYMATTR Value 1m
SYMATTR Type ind
SYMBOL ind2 1360 -160 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 4 56 VBottom 2
SYMATTR InstName L8
SYMATTR Value 330µ
SYMATTR Type ind
SYMBOL cap 1616 160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 1µ
SYMBOL res 1392 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL 74hc02 1184 368 R0
SYMATTR InstName U1
SYMBOL 74hc02 1184 480 R0
SYMATTR InstName U2
SYMBOL res 1888 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL npn 1440 208 R0
SYMATTR InstName Q1
SYMATTR Value FJL4315
SYMBOL npn 1728 208 M0
SYMATTR InstName Q2
SYMATTR Value FJL4315
SYMBOL res 1376 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
TEXT 768 -192 Left 2 !.tran 3ms
TEXT 1120 -496 Left 2 !K L1 L2 L3 L4  L7 0.99.5
TEXT 752 -336 Left 2 !.include standard.bjt
TEXT 736 -408 Left 2 !.include my.lib
TEXT 2424 264 Left 2 ;output caps reduced to emphasize/show ripple
TEXT 1248 -392 Left 2 ;https://www.mikrocontroller.net/articles/Royer_Converter
TEXT 2192 -408 Left 2 ;changing L1. changes the driving frequency...\nchanging C3 changes the resonant freq. maybe with L2,L7.\nR1 the amount of power to the base, and power in the system\n-issue is that when lightly loaded need to reduce current into the base\nelse the resonant voltages on collectors crashes into the negative rail.\nto change freq. just change primary. don't change caps other.
TEXT 2192 -528 Left 2 ;- leakage inductance is incorporated into the resonant circuit;\n- \nWhat fixes it instead, is a R-S flip-flop added before the mosfet gates, to prevent both from turning on. \nhttps://www.eevblog.com/forum/projects/royer-converter-with-mosfets-for-low-power-dcdc/
TEXT 1104 568 Left 2 ;S
TEXT 1104 392 Left 2 ;R
TEXT 1248 392 Left 2 ;Q
TEXT 1240 568 Left 2 ;~Q
TEXT 760 -296 Left 2 !.include 74hc.lib
