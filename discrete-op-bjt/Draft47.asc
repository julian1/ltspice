Version 4
SHEET 1 1768 952
WIRE -336 -208 -336 -288
WIRE 176 -192 112 -192
WIRE 704 -192 176 -192
WIRE 880 -192 704 -192
WIRE 1120 -192 880 -192
WIRE 1312 -192 1120 -192
WIRE 880 -160 880 -192
WIRE 1312 -160 1312 -192
WIRE 816 -112 704 -112
WIRE 1248 -112 1120 -112
WIRE 880 -64 768 -64
WIRE 880 -16 880 -64
WIRE 1120 48 1120 -112
WIRE 704 96 704 -16
WIRE 1056 96 704 96
WIRE 1312 144 1312 -64
WIRE 1312 144 1120 144
WIRE 1424 224 1312 224
WIRE 1440 224 1424 224
WIRE 1424 272 1424 224
WIRE 1312 288 1312 224
WIRE 32 352 -128 352
WIRE 160 352 112 352
WIRE 432 352 160 352
WIRE 512 352 496 352
WIRE 1312 368 1120 368
WIRE 704 416 704 224
WIRE 1024 416 704 416
WIRE 1056 416 1024 416
WIRE 160 624 160 352
WIRE 192 624 160 624
WIRE 1024 624 1024 416
WIRE 704 640 704 416
WIRE 704 640 256 640
WIRE 1312 640 1312 368
WIRE 192 656 80 656
WIRE 1120 688 1120 464
WIRE 1120 688 1024 688
WIRE 1248 688 1120 688
WIRE 80 704 80 656
WIRE 880 768 880 64
WIRE 1120 768 880 768
WIRE 1312 768 1312 736
WIRE 1312 768 1120 768
WIRE 1120 816 1120 768
FLAG -336 -368 VCC
FLAG 1440 224 VOUT
FLAG -128 432 0
FLAG 176 -192 VCC
FLAG 512 352 VOUT
FLAG 1120 816 0
FLAG -336 -208 0
FLAG 80 784 0
FLAG 1424 352 0
FLAG 224 672 0
FLAG 224 608 VCC
SYMBOL pnp 768 -16 R180
SYMATTR InstName Q1
SYMATTR Value 2N3906
SYMBOL pnp 816 -64 M180
SYMATTR InstName Q3
SYMATTR Value 2N3906
SYMBOL res 688 -208 R0
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL voltage -336 -384 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 42 41 Left 2
SYMATTR Value 6
SYMATTR InstName V1
SYMBOL res 864 -32 R0
SYMATTR InstName R8
SYMATTR Value 20k
SYMBOL npn 1056 48 R0
SYMATTR InstName Q5
SYMATTR Value 2N3904
SYMBOL res 1296 128 R0
SYMATTR InstName R11
SYMATTR Value 1R
SYMBOL res 1296 272 R0
SYMATTR InstName R12
SYMATTR Value 1R
SYMBOL pnp 1056 464 M180
SYMATTR InstName Q6
SYMATTR Value 2N3906
SYMBOL voltage -128 336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -271 -43 Left 2
SYMATTR Value PULSE(0 3.3 0 100n 100n 0.2ms 0.4ms 7)
SYMATTR InstName VIN1
SYMBOL res 16 368 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R14
SYMATTR Value 5k
SYMBOL diode 688 96 R0
SYMATTR InstName D1
SYMBOL diode 688 160 R0
SYMATTR InstName D2
SYMBOL cap 496 336 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 3n
SYMBOL voltage 80 688 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 51 83 Left 2
WINDOW 0 52 43 Left 2
SYMATTR Value 1.6
SYMATTR InstName VIN2
SYMBOL res 1104 -208 R0
SYMATTR InstName R3
SYMATTR Value 270
SYMBOL res 1104 672 R0
SYMATTR InstName R4
SYMATTR Value 270
SYMBOL pnp 1248 -64 M180
SYMATTR InstName Q10
SYMATTR Value MJE15035
SYMBOL npn 1248 640 R0
SYMATTR InstName Q11
SYMATTR Value MJE15034
SYMBOL res 1408 256 R0
SYMATTR InstName R5
SYMATTR Value 10R
SYMBOL OpAmps\\LT1006 224 576 R0
SYMATTR InstName U1
SYMBOL cap 1008 624 R0
SYMATTR InstName C2
SYMATTR Value 20p
TEXT -112 -392 Left 2 !.tran 3ms
TEXT 336 320 Left 2 ;minus
TEXT 80 616 Left 2 ;plus
TEXT -184 48 Left 2 ;0-3v3 square wave input.\nfrom mcu/ oscillator etc
TEXT 1448 160 Left 2 ;high-current slewed output
TEXT -560 -88 Left 2 !.include standard.bjt
TEXT 112 -392 Left 2 ;still have issue of flux walk
TEXT 104 -352 Left 2 ;repeat circuit. and just invert digital input. rather than create inverter
