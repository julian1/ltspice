Version 4
SHEET 1 2428 952
WIRE 160 -320 16 -320
WIRE 304 -320 160 -320
WIRE 416 -320 304 -320
WIRE 512 -320 416 -320
WIRE -320 -288 -400 -288
WIRE -400 -272 -400 -288
WIRE -320 -272 -320 -288
WIRE 176 -192 80 -192
WIRE 240 -192 176 -192
WIRE 160 -176 160 -240
WIRE 176 -176 176 -192
WIRE 176 -176 160 -176
WIRE 160 -128 160 -176
WIRE 240 -112 208 -112
WIRE 240 -80 240 -112
WIRE 240 -80 224 -80
WIRE 304 -80 304 -144
WIRE 304 -80 240 -80
WIRE 16 0 16 -144
WIRE 496 0 16 0
WIRE 160 16 160 -32
WIRE 160 16 -160 16
WIRE 304 64 304 -80
WIRE 432 64 304 64
WIRE 432 80 432 64
WIRE 496 80 432 80
WIRE 304 112 304 64
WIRE 384 112 368 112
WIRE 16 144 16 0
WIRE 304 144 304 112
WIRE 160 192 160 16
WIRE 160 192 80 192
WIRE 240 192 160 192
WIRE 160 304 160 192
WIRE 224 304 160 304
WIRE 16 320 16 240
WIRE 304 320 304 240
WIRE 224 368 160 368
WIRE -32 384 -224 384
WIRE 352 384 -32 384
WIRE 432 384 352 384
WIRE 608 384 432 384
WIRE 16 432 16 416
WIRE 160 432 160 368
WIRE 160 432 96 432
WIRE 224 432 208 432
WIRE 304 432 304 416
WIRE 16 448 16 432
WIRE 304 448 304 432
WIRE 432 448 432 384
WIRE 208 480 208 432
WIRE 16 592 16 528
WIRE 160 592 160 432
WIRE 160 592 16 592
WIRE 208 592 208 560
WIRE 208 592 160 592
WIRE 304 592 304 528
WIRE 304 592 208 592
WIRE 432 592 432 512
WIRE 432 592 304 592
WIRE 160 624 160 592
WIRE -64 640 -64 592
WIRE -96 656 -160 656
WIRE 64 672 -32 672
WIRE 96 672 64 672
WIRE -96 688 -320 688
WIRE 64 704 64 672
WIRE 112 704 64 704
WIRE -320 720 -320 688
WIRE -160 720 -160 656
WIRE 160 720 -160 720
WIRE -64 800 -64 704
WIRE -64 800 -320 800
WIRE 160 800 -64 800
WIRE 400 800 160 800
WIRE 544 800 400 800
FLAG -320 -272 0
FLAG -400 -368 VCC2
FLAG -400 -192 VEE2
FLAG 416 -320 VCC2
FLAG 400 800 VEE2
FLAG -224 464 0
FLAG 384 112 0
FLAG -64 592 VCC2
FLAG -160 -64 0
SYMBOL voltage -400 -384 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 42 41 Left 2
SYMATTR Value 18
SYMATTR InstName V1
SYMBOL voltage -400 -288 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 36 39 Left 2
SYMATTR InstName V4
SYMATTR Value 15
SYMBOL voltage -224 368 R0
WINDOW 123 -4 19 Left 2
WINDOW 39 0 0 Left 0
WINDOW 3 -341 151 Left 2
WINDOW 0 -4 -9 Left 2
SYMATTR Value2 AC 1
SYMATTR Value PULSE(0 5 0 100n 100n 0.2ms 0.4ms 7)
SYMATTR InstName VIN1
SYMBOL res 0 -336 R0
SYMATTR InstName R9
SYMATTR Value 1.7k
SYMBOL njf -32 320 R0
WINDOW 0 -72 -48 Left 2
WINDOW 3 -75 -16 Left 2
SYMATTR InstName J1
SYMATTR Value NJFEx140
SYMBOL njf 352 320 M0
WINDOW 0 3 -44 Right 2
WINDOW 3 6 -13 Right 2
SYMATTR InstName J2
SYMATTR Value NJFEx140
SYMBOL res 288 -336 R0
SYMATTR InstName R2
SYMATTR Value 1.7k
SYMBOL npn 80 144 M0
SYMATTR InstName Q4
SYMATTR Value 2N3904
SYMBOL npn 240 144 R0
SYMATTR InstName Q7
SYMATTR Value BC547B
SYMBOL zener 176 368 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value 1N750
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 208 304 R0
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL res 144 -336 R0
SYMATTR InstName R3
SYMATTR Value 250k
SYMBOL pnp 80 -144 R180
SYMATTR InstName Q1
SYMATTR Value 2N3906
SYMBOL pnp 240 -144 M180
SYMATTR InstName Q2
SYMATTR Value 2N3906
SYMBOL res 0 432 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 288 432 R0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL cap 368 96 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 1p
SYMBOL ind 112 416 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 1m
SYMATTR SpiceLine Rser=5
SYMBOL ind 320 416 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L2
SYMATTR Value 1m
SYMATTR SpiceLine Rser=0
SYMBOL schottky 416 448 R0
SYMATTR InstName D1
SYMATTR Value BAT54AHM
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL OpAmps\\UniversalOpamp2 -64 672 R0
SYMATTR InstName U2
SYMBOL res 144 704 R0
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL voltage -320 704 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 1.7
SYMBOL res 480 -16 R0
SYMATTR InstName R1
SYMATTR Value 100
SYMBOL current -160 -64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 10n
SYMBOL res 192 464 R0
SYMATTR InstName R6
SYMATTR Value 5
SYMBOL pmos 208 -32 R180
SYMATTR InstName M2
SYMBOL npn 96 624 R0
SYMATTR InstName Q3
SYMATTR Value 2N3904
TEXT -544 -32 Left 2 !.ac dec 20 1 100k
TEXT 368 352 Left 2 ;minus
TEXT -144 344 Left 2 ;plus
TEXT 16 -472 Left 2 ;Test for CMRR:\ndifferential mode gain (current at R1 for output, neg input to GND) is -49.9 dB\nSo CMRR is Signal at R1 + 49.9 dB
TEXT -712 872 Left 2 !.model NJFEx140 NJF (BETA=14.24m BETATCE=-0.22 VTO=-975m VTOTC=0.45m LAMBDA=11.9m RD=10 RS=8 N=1 M=0.33 PB=0.705 IS=5.34f CGD=3.5p CGS=9.2p AF=1 KF=0.2e-18 FC=0.5)
TEXT -440 64 Left 2 ;extra current source to help start up
