Version 4
SHEET 1 2444 680
WIRE 256 16 0 16
WIRE 592 16 336 16
WIRE 1104 16 848 16
WIRE 1264 16 1184 16
WIRE 0 32 0 16
WIRE 336 80 336 16
WIRE 384 80 336 80
WIRE 592 80 592 16
WIRE 848 80 848 16
WIRE 1104 80 1104 16
WIRE 1104 80 1056 80
WIRE 1264 80 1264 16
WIRE 1408 80 1264 80
WIRE 544 96 448 96
WIRE 992 96 896 96
WIRE 256 112 208 112
WIRE 384 112 336 112
WIRE 1344 112 1056 112
WIRE 1360 112 1344 112
WIRE -64 256 -192 256
WIRE 1088 304 960 304
WIRE 1264 304 1264 80
WIRE 1264 304 1152 304
WIRE 1264 320 1264 304
WIRE 16 336 -192 336
WIRE 592 352 592 176
WIRE 1008 352 592 352
WIRE 1200 368 1072 368
WIRE 848 384 848 176
WIRE 960 384 960 304
WIRE 960 384 848 384
WIRE 1008 384 960 384
WIRE 592 432 592 352
WIRE 848 432 848 384
WIRE 1040 512 1040 400
FLAG 16 336 VEE2
FLAG -192 176 VCC2
FLAG 416 128 VEE2
FLAG 416 64 VCC2
FLAG 1024 128 VEE2
FLAG 1024 64 VCC2
FLAG 1040 512 VEE3
FLAG 1264 -64 VCC2
FLAG -192 416 VEE3
FLAG 592 512 VEE3
FLAG 848 512 VEE3
FLAG 1264 496 VEE3
FLAG 0 112 0
FLAG 208 192 0
FLAG 1344 112 0
FLAG -64 256 0
FLAG 1408 80 OUT
FLAG 1040 336 VEE2
FLAG 336 192 0
SYMBOL voltage 0 16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 24 44 Left 2
SYMATTR Value SINE(0 1 50)
SYMATTR InstName VIN
SYMBOL voltage -192 320 R0
WINDOW 0 54 29 Left 2
WINDOW 3 50 56 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 10
SYMBOL voltage -192 240 R0
WINDOW 0 54 29 Left 2
WINDOW 3 50 56 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL res 576 416 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL OpAmps\\LT1006 416 32 R0
SYMATTR InstName U1
SYMBOL res 352 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL pmos 544 176 M180
SYMATTR InstName M1
SYMBOL voltage -192 160 R0
WINDOW 0 54 29 Left 2
WINDOW 3 50 56 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 15
SYMBOL res 864 416 M0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL OpAmps\\LT1006 1024 32 M0
SYMATTR InstName U2
SYMBOL res 1088 0 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL pmos 896 176 R180
SYMATTR InstName M2
SYMBOL npn 1200 320 R0
SYMATTR InstName Q1
SYMBOL OpAmps\\LT1006 1040 304 R0
SYMATTR InstName U3
SYMBOL res 1280 400 M0
SYMATTR InstName R7
SYMATTR Value 20R
SYMBOL current 1264 -64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 1mA
SYMBOL cap 1152 288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 100p
SYMBOL voltage 208 96 R0
WINDOW 0 -68 40 Left 2
WINDOW 3 -64 65 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value -2
SYMBOL res 352 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 -26 100 VTop 2
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL res 352 208 R180
WINDOW 0 45 54 Left 2
WINDOW 3 43 26 Left 2
SYMATTR InstName R9
SYMATTR Value 10k
TEXT -336 -112 Left 2 !;dc V1 0 10 0.01
TEXT 304 448 Left 2 !.tran 0.1
TEXT 1672 0 Left 2 ;works\nbut does not handle negative differential. on input.\neven if common mode can be negative.\nlhs current sense op - likely bootstrapped.\n----\nBUT can make handle bipolar, by just using ina154, with offset.\ncan change gain/attenuation. by changing 10k/10k to 10k/1k. etc.\n------
